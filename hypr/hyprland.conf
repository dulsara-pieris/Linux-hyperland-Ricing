# -----------------------------------------------------
# 1. VARIABLES & ENVIRONMENT (CRITICAL FIX FOR L99)
# -----------------------------------------------------
$mainMod = SUPER

monitor=,preferred,auto,auto
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = HYPRCURSOR_SIZE,24

# -----------------------------------------------------
# 2. LOOKS & GENERAL
# -----------------------------------------------------
general {
    gaps_in = 26
    gaps_out = 30
    border_size = 5
    col.active_border = rgb(00ffff) rgb(ffff00) rgb(ff00ff) 45deg
    col.inactive_border = rgba(585b70ee)
    layout = dwindle
    resize_on_border = true
}

decoration {
    rounding = 14

    blur {
        enabled = true
        size = 12
        passes = 4
        noise = 0.01
        ignore_opacity = true
        xray = true
    }

    shadow {
        enabled = true
        range = 32
        render_power = 4
        color = rgba(000000b3)
        offset = 0, 10
    }

    dim_inactive = true
    dim_strength = 0.15
}

animations {
    enabled = true

    bezier = linear, 0.0, 0.0, 1.0, 1.0 
    bezier = smooth, 0.5, 0.0, 0.5, 1.0

    animation = windows, 1, 7, default
    animation = windowsMove, 1, 13, default
    animation = fade, 1, 10, default
    animation = border, 1, 10, default
    animation = workspaces, 1, 10, default
}

misc {
    vfr = true
    vrr = 1
    disable_hyprland_logo = true
    background_color = rgb(11111b)
}

# -----------------------------------------------------
# 3. LAYERS
# -----------------------------------------------------
layerrule = blur, waybar
layerrule = ignorealpha 0.5, waybar
layerrule = blur, ^(ags.*)$
layerrule = ignorealpha 0.25, ^(ags.*)$
layerrule = blur, notifications
layerrule = blur, rofi
layerrule = blur, hyprlock

# -----------------------------------------------------
# 4. SCRATCHPAD (L99 is fixed by variable placement)
# -----------------------------------------------------
exec-once = kitty --class=scratchpad

bind = $mainMod, SPACE, togglespecialworkspace, scratchpad

windowrulev2 = float, class:^(scratchpad)$
windowrulev2 = size 85% 70%, class:^(scratchpad)$
windowrulev2 = center, class:^(scratchpad)$
windowrulev2 = workspace special:scratchpad, class:^(scratchpad)$

# -----------------------------------------------------
# 5. STARTUP & KEYBINDS
# -----------------------------------------------------
exec-once = waybar
exec-once = swww-daemon
exec-once = sleep 3 && swww img ~/Pictures/Wallpapers/cool.jpg --transition-type grow --transition-pos 0.85,0.1 --transition-duration 1.5

bind = $mainMod, RETURN, exec, kitty
bind = $mainMod, Q, killactive
bind = $mainMod, F, fullscreen, 0
bind = $mainMod, T, togglefloating
bind = $mainMod, R, exec, wofi --show drun
bind = $mainMod, E, exec, nautilus
bind = $mainMod, M, exit

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5

bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5

bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

exec-once = hyprpaper
